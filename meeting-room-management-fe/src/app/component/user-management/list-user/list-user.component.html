<h2 align="center">Quản lý tài khoản</h2>
<form class="form-group" [formGroup]="userForm" (ngSubmit)="onSubmit()">
  <div class="header">
    <div class="row ">
      <div class="col-3">
        <a class="btn btn-primary form-group" [routerLink]="['add']" role="button">Thêm tài khoản</a>
      </div>
      <label class="col-form-label">Tên đăng nhập</label>
      <div class="col-2">
        <input type="text" class="form-control" placeholder="Tên đăng nhập" formControlName="username">
      </div>
      <div class="col-2">
        <select class="custom-select" formControlName="role">
          <option [selected]="userForm.value.role ===''" hidden>Quyền</option>
          <option value="ROLE_ADMIN">Admin</option>
          <option value="ROLE_USER">User</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col-3"></div>
      <label class="col-form-label">Họ và tên &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </label>
      <div class="col-2">
        <input type="text" class="form-control" placeholder="Họ và tên" formControlName="fullName">
      </div>

      <div class="col-2">
        <select class="custom-select" formControlName="departmentName">
          <option [selected]="userForm.value.role ===''" hidden>Bộ phận</option>
          <option value="1">Giám đốc công ty</option>
          <option value="2">Quản lý team A</option>
          <option value="3">Quản lý team B</option>
        </select>
      </div>
      <div class="col-2">
        <input class="btn btn-outline-primary" type="submit" value="Tìm kiếm">
      </div>
    </div>
    </div>

</form>
<table class="table table-striped table-bordered text-center">
  <thead align="center">
  <tr>
    <th>ID</th>
    <th>Tên đăng nhập</th>
    <th>Quyền</th>
    <th>Họ và tên</th>
    <th>Bộ phận</th>
    <th>Sửa</th>
    <th>Xóa</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngIf="userList == null">
    <td colspan="9">Hiện chưa có người dùng nào.</td>
  </tr>
  <tr *ngFor="let user of userList | paginate :{itemsPerPage:10 ,currentPage : p}">
    <td>{{user.id}}</td>
    <td>{{user.account.username | titlecase}}</td>
    <td>{{user.account.role | slice : 5  }}</td>
    <td>{{user.fullName | titlecase}}</td>
    <td>{{user.department.name}}</td>
    <td class="text-center">
      <a [routerLink]="'update/' + user.id">
        <i class="bi bi-pencil-square"></i>
      </a>

    </td>
    <td class="text-center">
      <a (click)="openDialogDelete(user.id)">
        <i class="bi bi-trash"></i>
      </a>
    </td>
  </tr>
  </tbody>

</table>
<pagination-controls class="text-right" (pageChange)="p = $event"
                     previousLabel="Trước"
                     nextLabel="Sau"
                     [autoHide]="true"></pagination-controls>


