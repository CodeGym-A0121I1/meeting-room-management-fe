<br>
<h2 style="text-align: center">Danh sách phản hồi</h2>
<br>
<table class="table table-striped table-bordered text-center">
  <thead>
  <tr>
    <th>STT</th>
    <th>Người dùng</th>
    <th>Phòng</th>
    <th>Vấn đề</th>
    <th>Thời gian phản hồi</th>
    <th>Thời gian giải quyết</th>
    <th>Nội dung phản hồi</th>
    <th>Trạng thái<p style="color: white;"></p></th>
    <th>Xử lí<p style="color: white; width: 60px"></p></th>
  </tr>
  </thead>
  <tbody>
  <tr *ngIf="feedbackList?.length == 0">
    <td colspan="9">Hiện không có phản hồi nào.</td>
  </tr>
  <tr *ngFor="let feedback of feedbackList | paginate :{itemsPerPage:5 ,currentPage : p} ; let i = index">
    <th scope="row">{{i + 1}}</th>
    <td>{{feedback.user.fullName}}</td>
    <td>{{feedback.room.name}}</td>
    <td>{{feedback.noteRequest | limitToPipe: 20 }}{{feedback.noteRequest.length > 20 ? '...' : ''}}</td>
    <td>{{feedback.dateRequest}}</td>
    <td>{{feedback.dateResponse}}</td>
    <td *ngIf="feedback.noteResponse == null; else elseNote">{{feedback.noteResponse}}</td>
    <ng-template
      #elseNote>{{feedback.noteResponse | limitToPipe: 20 }}{{feedback.noteResponse.length > 20 ? '...' : ''}}</ng-template>
    <td *ngIf="feedback.status" style="color: blue">Đã xử lý</td>
    <td *ngIf="!feedback.status" style="color: red">Chưa xử lý</td>
    <td>
      <button *ngIf="!feedback.status" (click)="replyFeedback(feedback)" class="btn btn-warning">Xử lí</button>
    </td>
  </tr>
  </tbody>
</table>

<pagination-controls (pageChange)="p = $event"
                     [directionLinks]=true
                     [autoHide]=true
                     [responsive]=true
                     previousLabel="Trước"
                     nextLabel="Sau"
                     screenReaderPaginationLabel="Pagination"
                     screenReaderPageLabel="page"
                     screenReaderCurrentLabel="You're on page">
</pagination-controls>

